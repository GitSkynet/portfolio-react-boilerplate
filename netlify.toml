[Settings]

# Settings in the [build] context are global and are applied to all contexts
# unless otherwise overridden by more specific contexts.
[build]
  # Directory (relative to root of your repo) that contains the deploy-ready
  # HTML files and assets generated by the build.
  publish = "build/"

  # Default build command.
  command = "npm run build"

  # Directory with the lambda functions to deploy to AWS.
  functions = "app/functions/"

# Redirects and headers are GLOBAL for all builds â€“ they do not get scoped to
# contexts no matter where you define them in the file.
# For context-specific rules, use _headers or _redirects files, which are
# PER-DEPLOY.

# The following redirect is intended for use with most SPAs that handle
# routing internally.
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

[[headers]]
  # Define which paths this specific [[headers]] block will cover.
  for = "/*"

  [headers.values]
#    Content-Security-Policy = "default-src 'self' https//meester-johan.info https//www.meester-johan.info; img-src 'self' data: https://optimize.google.com https://www.google-analytics.com https://images.ctfassets.net/1tymefars1bj/; font-src 'self' data: https://fonts.gstatic.com https://cdnjs.cloudflare.com/ajax/libs/font-awesome/; style-src 'self' 'unsafe-inline' https://optimize.google.com https://fonts.googleapis.com https://cdnjs.cloudflare.com/ajax/libs/font-awesome/; script-src 'self' 'unsafe-eval' 'unsafe-inline' https://www.google-analytics.com https://www.googletagmanager.com https://cdn.polyfill.io/v2/polyfill.min.js; connect-src 'self' ws://meester-johan.info ws://www.meester-johan.info https://cdn.contentful.com/spaces/1tymefars1bj/; form-action 'self'; frame-src https://optimize.google.com https://www.googletagmanager.com;"
#    Strict-Transport-Security = "max-age=31536000; includeSubdomains"
    X-Content-Type-Options = "nosniff"
    X-Frame-Options = "SAMEORIGIN"
    X-XSS-Protection = "1; mode=block"
